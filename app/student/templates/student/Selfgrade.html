{% extends 'student/base.html' %}
{% load static %}
{% block content %}
<script type="text/javascript" language="javascript">
    // function ScoreAlert() {
    //      if (confirm("계산한 점수가 맞는지 확인해주세요.(예:1점, 아니오:0점)\n\n총 점수 : 2점\n") == true) {
    //          document.location.href='{% url 'Self' %}';
    //      }else{
    //          return false;
    //      }
    // }

   //  function ScoreAlert() {
   //      const choice = document.querySelectorAll('input[type=radio]:checked').length;
   //      const tm_result = {
   //          0: 0,
   //          1: 1
   //      };
   //      alert(tm_result[choice])
   //      // alert(tm_result[choice].reduce(function (accumulator, currentValue) {return accumulator + currentValue;}, 0))
   //      if (confirm("계산한 점수가 맞는지 확인해주세요.(예:1점, 아니오:0점)\n\n총 점수 : " +tm_result[choice] + "점\n") == true) {
   //           document.location.href='{% url 'Self' %}';
   //       }else{
   //           return false;
   // // document.getElementById("result").innerHTML = tm_result[choice];
   //  }
   //  }


    calc.addEventListener('click', sumToVariable)

    var sum;

    function sumUp() {
      let sum = [...document.querySelectorAll('input[type=radio]:checked')]
        .reduce(
          (acc, val) => acc + Number(val.value)
          , 0
        )
      result.textContent = sum;
      return sum;
      alert(sum);
    }

    function sumToVariable() {
      sum = sumUp();
      console.log(sum);
    }
</script>
<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="{% url 'student' %}">WA3I</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'student' %}">좋은 설명</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'AI' %}">평가연습</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'Study' %}">학습평가</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'Homeworkselect' %}">숙제하기</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="{% url 'Self' %}">스스로 평가
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'Notice' %}">게시판</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Page Content -->
<div class="container">

    <!-- Heading Row -->
    <div class="row align-items-center my-5">
        <div class="col-lg-2">
            <img class="img-fluid rounded mb-4 mb-lg-0" src="{% static 'mainpage/image/logo.png' %}" width="120" height="120" alt="">
        </div>
        <!-- /.col-lg-8 -->
        <div class="col-lg-5">
            <p class="font-weight-bolder triangle-border left">자신의 부족한 점을 상기해보며 스스로 평가해 봅시다.</p>
            <!--        <a class="btn btn-primary" href="#">Call to Action!</a>-->
        </div>
        <!-- /.col-md-4 -->
    </div>
    <!-- /.row -->

    <!-- Content Row -->
    <div class="card text-white bg-secondary my-5 py-4">
        <div class="card-body">
            <h5 class="text-white m-0 text-center">점수 계산하기</h5>
        </div>
    </div>

    <form action="{% url 'Selfgrade' %}" method="GET">
    <!-- Content Row -->
    <div class="row my-5">
        <table class="w3-table-all w3-centered">
            <tr class="w3-indigo">
              <th>평가 기준</th>
              <th>예</th>
              <th>아니오</th>
            </tr>

            {% for d in data %}
            <tr>
              <td>{{d.mark_text}}</td>
              <td><input type="radio" name="{{d.mark_id}}" data-col="1" value="1"></td>
              <td><input type="radio" name="{{d.mark_id}}" data-col="2" value="0"></td>
            </tr>
            {% endfor %}

        </table>
    </div>

    <div class="row my-5">
        <div class="col-lg-12">
            <a onclick="ScoreAlert()" style="cursor:pointer">
                <button type="submit" id ="clac" class="w3-btn w3-round w3-indigo w3-display-bottomright w3-margin-bottom">점수 계산하기</button>
            </a>
            <a href="{% url 'Selfdiagnosis' %}">
                <button type="submit" class="w3-btn w3-round w3-grey w3-display-bottomleft w3-margin-bottom">< 이전</button>
            </a>
            <br>
        </div>
    </div>
    <!-- /.row -->
</form>
</div>
<!-- /.container -->

{% endblock %}